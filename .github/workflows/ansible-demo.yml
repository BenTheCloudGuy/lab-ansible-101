name: Test WinRM
on:
    push:
        branches: [main]
        paths:
            - 'ansible/**'
            - 'demo/**'
            - '.github/workflows/ansible-demo.yml'

jobs:
    ansible-demo:
        runs-on: [self-hosted, ansible]
        steps:
            - name: Checkout Repository
              uses: actions/checkout@v1

            - name: Testing $PATH Communications
              run: echo $PATH

            - name: update $PATH
              run: "echo '/home/adminuser/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin' > $PATH" 

            - name: Validate $PATH
              run: echo $PATH

            - name: Test Ansible
              run: ansible --version
            


